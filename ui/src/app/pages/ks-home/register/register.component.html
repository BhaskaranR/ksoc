<!-- <h1 mat-dialog-title *ngIf="isregistered;else registeredheadline;">
    Join Karmasoc today
</h1>

<ng-template #registeredheadline>
    <h1 mat-dialog-title>
        Join Karmasoc today
    </h1>
</ng-template>

<mat-dialog-content>

    <div *ngIf="isregistered;else register;">
        <h1>Thank you for registering. Email sent for confirmation.</h1>
    </div>

    <ng-template #register>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" #registerForm="ngForm">
            <mat-form-field class="full-width">
                <input matInput formControlName="firstName" required placeholder="First Name">
            </mat-form-field>
            <mat-form-field class="full-width">
                <input matInput formControlName="lastName" required placeholder="Last Name">
            </mat-form-field>
            <mat-form-field class="full-width">
                <input matInput formControlName="mail" required placeholder="email">
            </mat-form-field>
            <mat-form-field class="full-width">
                <input matInput formControlName="password" required placeholder="Password" type="password">
            </mat-form-field>
            <button type="submit" mat-raised-button color="primary">Register</button>
        </form>

        <button mat-raised-button color="accent"> 
                <mat-icon class="side_nav_icon" svgIcon="avatars:facebook-box"></mat-icon>
                Continue with FACEBOOK
        </button>

        <button mat-raised-button color="warn"> 
                <mat-icon class="side_nav_icon" svgIcon="avatars:googleplus-box"></mat-icon>
                Continue with GOOGLE+
        </button>

        <mat-spinner *ngIf="submitted" mode="indeterminate"></mat-spinner>

        <p class="error" *ngIf="errorDiagnostic">{{errorDiagnostic}}</p>

        <br>
        <hr>

        <button (click)="dialogRef.close('signin')" mat-raised-button color="accent">Login</button>
    </ng-template>


</mat-dialog-content> -->

<div class="signup ">
    <mat-card-content>
        <div fxLayout="column" fxLayoutAlign="center center">
            <img style="width:70px;" src="assets/images/icons/icon.png" alt="" />
            <p class="mat-text-muted text" *ngIf="isregistered;else registeredheadline;">
                Join Karmasoc today
            </p>
            <ng-template #registeredheadline>
                <p class="mat-text-muted text">Join Karmasoc today</p>
            </ng-template>
        </div>
        <div *ngIf="isregistered;else register;">
            <p class="mat-text-muted">Thank you for registering. Email sent for confirmation.</p>
        </div>
        <ng-template #register>
            <form [formGroup]="form" (ngSubmit)="onSubmit()" #registerForm="ngForm" novalidate>
                <div fxLayout="column" fxLayoutAlign="space-around">
                    <div>
                        <mat-form-field style="width: 100%">
                            <input matInput formControlName="firstName" placeholder="First Name" (focus)="displayFnError=false" (blur)="displayFnError=true">
                        </mat-form-field>
                    </div>

                    <small div class="mat-text-warn" *ngIf="form.controls.firstName.errors?.required && form.controls.firstName.dirty && displayFnError">
                        Error! First name is required
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.firstName.errors?.minlength && form.controls.firstName.dirty && displayFnError ">
                        Error! First name is too short
                    </small>

                    <div>
                        <mat-form-field style="width: 100%">
                            <input matInput formControlName="lastName" placeholder="Last Name" (focus)="displayLnError=false" (blur)="displayLnError=true">
                        </mat-form-field>
                    </div>

                    <small class="mat-text-warn" *ngIf="form.controls.lastName.errors?.required && form.controls.lastName.dirty && displayLnError">
                        Error! Last name is required
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.lastName.errors?.minlength && form.controls.lastName.dirty && displayLnError">
                        Error! Last name is too short
                    </small>

                    <div>
                        <mat-form-field style="width: 100%">
                            <input matInput formControlName="mail" placeholder="email" (focus)="displayEmailError=false" (blur)="displayEmailError=true">
                        </mat-form-field>
                    </div>

                    <small class="mat-text-warn" *ngIf="form.controls.mail.errors?.required && form.controls.mail.dirty ">
                        Error! Email is required
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.mail.errors?.invalidEmail && form.controls.mail.dirty && displayEmailError">
                        Error! Invalid email
                    </small>

                    <div>
                        <mat-form-field style="width: 100%">
                            <input matInput formControlName="phoneNumber" placeholder="phone number" (focus)="displayPnError=false" (blur)="displayPnError=true">
                        </mat-form-field>
                    </div>

                    <small class="mat-text-warn" *ngIf="form.controls.phoneNumber.errors?.required && form.controls.phoneNumber.dirty && displayPnError">
                        Error! Phone number is required
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.phoneNumber.errors?.minlength && form.controls.phoneNumber.dirty && displayPnError ">
                        Error! Phone number must be at least 10 digits long
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.phoneNumber.errors?.pattern && form.controls.phoneNumber.dirty && displayPnError">
                        Error! Phone number must be numeric 
                    </small>

                    <div>
                        <mat-form-field style="width: 100%">
                            <input matInput formControlName="password"  placeholder="Password" type="password" (focus)="displayPwError=false" (blur)="displayPwError=true">
                        </mat-form-field>
                    </div>
                    <small class="mat-text-warn" *ngIf="form.controls.password.errors?.required && form.controls.password.dirty && displayPwError">
                        Error! Password is required
                    </small>

                    <small class="mat-text-warn" *ngIf="form.controls.password.errors?.minlength && form.controls.password.dirty && displayPwError">
                        Error! Password is too short
                    </small>

                    <button mat-raised-button color="primary" class="btn-block" type="submit" [disabled]="form.invalid">Create your account</button>
                    <button mat-raised-button color="accent"> 
                            <mat-icon class="side_nav_icon" svgIcon="avatars:facebook-box"></mat-icon>
                            Continue with FACEBOOK
                    </button>

                    <button mat-raised-button color="warn"> 
                            <mat-icon class="side_nav_icon" svgIcon="avatars:googleplus-box"></mat-icon>
                            Continue with GOOGLE+
                    </button>
                    <mat-spinner *ngIf="submitted" mode="indeterminate"></mat-spinner>
                    <p class="error" *ngIf="errorDiagnostic">{{errorDiagnostic}}</p>
                </div>
                <div class="pt-1 text-xs-center" fxLayout.xs="column" fxLayout="row">
                    <a>Already have an account?</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a (click)="dialogRef.close('signin')" class="signup-text">Access your account.</a>
                </div>
            </form>
        </ng-template>
    </mat-card-content>
</div>